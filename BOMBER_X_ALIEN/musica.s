.data

notas: .word 102, 0, 0,
55,220,0,
55,661,0,
60,441,0,
62,220,0,
65,661,0,
64,220,0,
62,661,0,
60,220,0,
59,661,0,
60,882,0,
59,441,0,
64,441,0,
62,441,0,
60,441,0,
59,220,0,
60,441,0,
62,110,0,
60,110,0,
57,661,0,
60,661,0,
60,882,0,
57,441,0,
59,441,0,
60,220,0,
60,661,0,
60,441,0,
62,220,0,
60,661,0,
60,441,0,
60,441,0,
62,220,0,
62,661,0,
60,441,0,
60,882,0,
60,882,0,
57,441,0,
59,441,0,
60,661,0,
60,220,0,
60,441,0,
62,441,0,
60,220,0,
60,661,0,
60,330,0,
62,330,0,
60,220,0,
62,441,0,
60,3087,0,
55,220,0,
55,661,0,
60,441,0,
62,220,0,
65,661,0,
64,220,0,
62,661,0,
60,220,0,
59,661,0,
60,882,0,
59,441,0,
64,220,0,
62,661,0,
60,441,0,
59,220,0,
60,441,0,
62,110,0,
60,110,0,
57,661,0,
60,661,0,
60,882,0,
57,441,0,
59,441,0,
60,441,0,
60,441,0,
60,441,0,
62,220,0,
60,441,0,
60,220,0,
60,220,0,
60,441,0,
60,220,0,
62,220,0,
62,661,0,
60,882,0,
60,441,0,
60,882,0,
57,441,0,
59,220,0,
60,661,0,
60,441,0,
60,220,0,
62,661,0,
60,220,0,
62,441,0,
60,220,0,
60,441,0,
64,220,0,
65,661,0,
63,220,0,
62,220,0,
60,882,0,
60,1323,0,
60,441,0,

notas_menu:.word 74, 0, 0
    48, 1212, 0,
    60, 1212, 0,
    59, 303, 0,
    57, 151, 0,
    55, 303, 0,
    57, 303, 0,
    55, 606, 0,
    60, 454, 0,
    57, 303, 0,
    59, 303, 0,
    57, 151, 0,
    55, 303, 0,
    57, 454, 0,
    55, 151, 0,
    57, 454, 0,
    60, 151, 0,
    55, 151, 0,
    57, 303, 0,
    59, 303, 0,
    57, 303, 0,
    55, 151, 0,
    57, 303, 0,
    55, 454, 0,
    60, 303, 0,
    50, 303, 0,
    48, 303, 0,
    48, 1212, 0,
    60, 1212, 0,
    59, 303, 0,
    57, 151, 0,
    55, 303, 0,
    57, 303, 0,
    55, 454, 0,
    48, 606, 0,
    55, 303, 0,
    59, 303, 0,
    57, 303, 0,
    55, 303, 0,
    57, 151, 0,
    55, 303, 0,
    57, 151, 0,
    48, 303, 0,
    55, 303, 0,
    57, 151, 0,
    59, 454, 0,
    57, 303, 0,
    59, 303, 0,
    60, 303, 0,
    62, 303, 0,
    62, 303, 0,
    64, 454, 0,
    60, 151, 0,
    60, 606, 0,
    60, 303, 0,
    62, 151, 0,
    60, 454, 0,
    62, 303, 0,
    60, 303, 0,
    62, 303, 0,
    60, 606, 0,
    55, 303, 0,
    57, 151, 0,
    55, 454, 0,
    57, 303, 0,
    55, 303, 0,
    57, 303, 0,
    60, 454, 0,
    50, 151, 0,
    50, 303, 0,
    52, 151, 0,
    55, 454, 0,
    57, 303, 0,
    50, 303, 0,
    48, 303, 0,

.text

MUSIC_LOOP:

    la t0, notas_menu
    lw t1, 0(t0)
    lw t2, 4(t0)
    lw t3, 8(t0)

    li t4, 12
    mul t5, t4, t2
    add t5, t5, t0

    li a7, 30
    ecall

    sub t6, a0, t3

    lw s1, 4(t5)
    bgtu s1, t6, MUSIC_EXIT_0

    bne t2, t1, MUSIC_EXIT_1
    li t2, 0
    mv t5, t0


MUSIC_EXIT_1:

    addi t5, t5, 12
    li a7, 31
    lw a0, 0(t5)
    lw a1, 4(t5)
    li a2, 26
    li a3, 100
    ecall

    li a7, 30
    ecall

    sw a0, 8(t0)
    addi t2, t2, 1
    sw t2, 4(t0)

MUSIC_EXIT_0:

    mv ra, s7
    ret

MUSIC_LOOP_MENU:

    la t0, notas
    lw t1, 0(t0)
    lw t2, 4(t0)
    lw t3, 8(t0)

    li t4, 12
    mul t5, t4, t2
    add t5, t5, t0

    li a7, 30
    ecall

    sub t6, a0, t3

    lw s1, 4(t5)
    bgtu s1, t6, MUSIC_EXIT_0

    bne t2, t1, MUSIC_EXIT_1
    li t2, 0
    mv t5, t0

